<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="30日間AI伴走プログラム｜「やりたい」を「やった」に変える。AIコーチがLINEで毎日伴走、意思に頼らず続く習慣を育てます。">
    <title>30日間AI伴走プログラム｜"やりたい"を"やった"に変える。</title>
    
    <!-- GA4 -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=GA_MEASUREMENT_ID"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());
        gtag('config', 'GA_MEASUREMENT_ID');
    </script>
    
    <!-- Meta Pixel -->
    <script>
        !function(f,b,e,v,n,t,s)
        {if(f.fbq)return;n=f.fbq=function(){n.callMethod?
        n.callMethod.apply(n,arguments):n.queue.push(arguments)};
        if(!f._fbq)f._fbq=n;n.push=n;n.loaded=!0;n.version='2.0';
        n.queue=[];t=b.createElement(e);t.async=!0;
        t.src=v;s=b.getElementsByTagName(e)[0];
        s.parentNode.insertBefore(t,s)}(window,document,'script',
        'https://connect.facebook.net/en_US/fbevents.js');
        fbq('init', 'META_PIXEL_ID');
        fbq('track', 'PageView');
    </script>
    
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=Noto+Sans+JP:wght@400;500;600;700&display=swap" rel="stylesheet">
    
    <style>
/* Reset & Base Styles */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

:root {
    --primary-color: #2563eb;
    --primary-hover: #1d4ed8;
    --secondary-color: #64748b;
    --accent-color: #f59e0b;
    --success-color: #10b981;
    --error-color: #ef4444;
    --text-primary: #1e293b;
    --text-secondary: #64748b;
    --bg-primary: #ffffff;
    --bg-secondary: #f8fafc;
    --bg-gradient: linear-gradient(135deg, #f9fafb 0%, #e2e8f0 100%);
    --border-color: #e2e8f0;
    --shadow-light: 0 1px 3px 0 rgba(0,0,0,0.1), 0 1px 2px 0 rgba(0,0,0,0.06);
    --shadow-medium: 0 4px 6px -1px rgba(0,0,0,0.1), 0 2px 4px -1px rgba(0,0,0,0.06);
    --shadow-large: 0 10px 15px -3px rgba(0,0,0,0.1), 0 4px 6px -2px rgba(0,0,0,0.05);
    --radius-sm: 6px;
    --radius-md: 8px;
    --radius-lg: 12px;
    --font-primary: 'Inter', 'Noto Sans JP', system-ui, -apple-system, sans-serif;
}

html {
    scroll-behavior: smooth;
}

body {
    font-family: var(--font-primary);
    font-size: 16px;
    line-height: 1.6;
    color: var(--text-primary);
    background: var(--bg-gradient);
    min-height: 100vh;
}

.container {
    max-width: 1200px;
    margin: 0 auto;
    padding: 0 20px;
}

@media (max-width: 768px) {
    .container {
        padding: 0 16px;
    }
}

.section__title {
    font-size: clamp(28px, 5vw, 32px);
    font-weight: 700;
    line-height: 1.2;
    color: var(--text-primary);
    text-align: center;
    margin-bottom: 3rem;
    letter-spacing: -0.025em;
}

.btn {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    padding: 16px 32px;
    font-size: 16px;
    font-weight: 600;
    text-decoration: none;
    border: none;
    border-radius: var(--radius-md);
    cursor: pointer;
    transition: all 0.2s ease;
    text-align: center;
    white-space: nowrap;
    min-height: 48px;
}

.btn--primary {
    background: var(--primary-color);
    color: white;
    box-shadow: var(--shadow-medium);
}

.btn--primary:hover {
    background: var(--primary-hover);
    transform: translateY(-1px);
    box-shadow: var(--shadow-large);
}

.btn--secondary {
    background: white;
    color: var(--primary-color);
    border: 2px solid var(--primary-color);
}

.btn--secondary:hover {
    background: var(--primary-color);
    color: white;
}

.btn--large {
    padding: 20px 40px;
    font-size: 18px;
    font-weight: 700;
}

.hero {
    padding: 4rem 0 6rem;
    background: var(--bg-gradient);
    overflow: hidden;
    text-align: center;
}

.hero__badge {
    display: inline-block;
    background: var(--accent-color);
    color: white;
    padding: 6px 16px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 1.5rem;
}

.hero__title {
    font-size: clamp(32px, 6vw, 48px);
    font-weight: 700;
    line-height: 1.1;
    color: var(--text-primary);
    margin-bottom: 1rem;
    letter-spacing: -0.025em;
}

.hero__subtitle {
    color: var(--primary-color);
    font-weight: 800;
}

.hero__tagline {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-secondary);
    margin-bottom: 1.5rem;
}

.hero__description {
    font-size: 18px;
    line-height: 1.7;
    color: var(--text-secondary);
    margin-bottom: 2rem;
    max-width: 600px;
    margin-left: auto;
    margin-right: auto;
}

.hero__summary {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 2.5rem;
    max-width: 500px;
    margin-left: auto;
    margin-right: auto;
}

.summary-item {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 16px;
    font-weight: 500;
    color: var(--text-primary);
    justify-content: center;
}

.summary-icon {
    font-size: 20px;
    flex-shrink: 0;
}

.hero__cta {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 1.5rem;
    align-items: center;
}

.beta-counter {
    background: linear-gradient(135deg, #fee2e2, #fecaca);
    color: var(--error-color);
    padding: 8px 16px;
    border-radius: var(--radius-sm);
    font-size: 14px;
    font-weight: 600;
    text-align: center;
    border: 1px solid #fca5a5;
}

.pain {
    padding: 6rem 0;
    background: white;
}

.pain__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
    gap: 2rem;
    margin-bottom: 3rem;
}

.pain__item {
    text-align: center;
    padding: 2rem;
    border-radius: var(--radius-lg);
    background: var(--bg-secondary);
    border: 1px solid var(--border-color);
}

.pain__icon {
    font-size: 48px;
    margin-bottom: 1.5rem;
}

.pain__title {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
}

.pain__description {
    color: var(--text-secondary);
    line-height: 1.6;
}

.pain__cta {
    text-align: center;
    padding: 2rem;
    background: linear-gradient(135deg, #eff6ff, #dbeafe);
    border-radius: var(--radius-lg);
    border: 1px solid #93c5fd;
}

.pain__message {
    font-size: 18px;
    color: var(--text-primary);
}

.pain__message strong {
    color: var(--primary-color);
    font-weight: 700;
}

.mechanism {
    padding: 6rem 0;
    background: var(--bg-gradient);
}

.mechanism__steps {
    display: flex;
    flex-direction: column;
    gap: 2rem;
    max-width: 800px;
    margin: 0 auto;
}

.step {
    display: flex;
    align-items: flex-start;
    gap: 2rem;
    padding: 2rem;
    background: white;
    border-radius: var(--radius-lg);
    box-shadow: var(--shadow-light);
    border: 1px solid var(--border-color);
}

.step__number {
    display: flex;
    align-items: center;
    justify-content: center;
    width: 48px;
    height: 48px;
    background: var(--primary-color);
    color: white;
    font-size: 20px;
    font-weight: 700;
    border-radius: 50%;
    flex-shrink: 0;
}

.step__title {
    font-size: 20px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 0.5rem;
}

.step__description {
    color: var(--text-secondary);
    line-height: 1.6;
}

.features {
    padding: 6rem 0;
    background: white;
}

.features__grid {
    display: grid;
    grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
    gap: 2rem;
    margin-bottom: 4rem;
}

.feature {
    text-align: center;
    padding: 2rem;
}

.feature__icon {
    font-size: 48px;
    margin-bottom: 1.5rem;
}

.feature__title {
    font-size: 18px;
    font-weight: 600;
    color: var(--text-primary);
    margin-bottom: 1rem;
}

.feature__description {
    color: var(--text-secondary);
    line-height: 1.6;
    font-size: 15px;
}

.offer {
    padding: 6rem 0;
    background: linear-gradient(135deg, #1e40af, #2563eb);
    color: white;
    text-align: center;
}

.offer__badge {
    display: inline-block;
    background: var(--accent-color);
    color: white;
    padding: 8px 20px;
    border-radius: 20px;
    font-size: 14px;
    font-weight: 600;
    margin-bottom: 1.5rem;
}

.offer .section__title {
    color: white;
}

.offer__pricing {
    margin-bottom: 3rem;
}

.pricing {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
}

.pricing__original {
    font-size: 18px;
    text-decoration: line-through;
    opacity: 0.8;
}

.pricing__special {
    font-size: 36px;
    font-weight: 700;
    display: flex;
    align-items: center;
    gap: 1rem;
}

.pricing__save {
    background: var(--accent-color);
    color: white;
    padding: 6px 12px;
    border-radius: var(--radius-sm);
    font-size: 14px;
    font-weight: 600;
}

.offer__benefits {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 3rem;
    max-width: 400px;
    margin-left: auto;
    margin-right: auto;
}

.benefit {
    display: flex;
    align-items: center;
    gap: 12px;
    font-size: 16px;
}

.benefit__icon {
    color: var(--success-color);
    font-size: 20px;
    flex-shrink: 0;
}

.offer__cta {
    display: flex;
    flex-direction: column;
    align-items: center;
    gap: 1rem;
}

.offer .beta-counter {
    background: rgba(255, 255, 255, 0.2);
    color: white;
    border: 1px solid rgba(255, 255, 255, 0.3);
}

.offer__note {
    font-size: 14px;
    opacity: 0.9;
    font-style: italic;
}

.faq {
    padding: 6rem 0;
    background: white;
}

.faq__list {
    max-width: 800px;
    margin: 0 auto;
}

.faq__item {
    border: 1px solid var(--border-color);
    border-radius: var(--radius-md);
    margin-bottom: 1rem;
    overflow: hidden;
}

.faq__question {
    width: 100%;
    padding: 1.5rem;
    background: var(--bg-secondary);
    border: none;
    text-align: left;
    font-size: 16px;
    font-weight: 600;
    color: var(--text-primary);
    cursor: pointer;
    display: flex;
    justify-content: space-between;
    align-items: center;
    transition: background-color 0.2s ease;
}

.faq__question:hover {
    background: #f1f5f9;
}

.faq__icon {
    font-size: 20px;
    font-weight: bold;
    color: var(--primary-color);
    transition: transform 0.2s ease;
}

.faq__answer {
    padding: 0 1.5rem;
    max-height: 0;
    overflow: hidden;
    transition: all 0.3s ease;
    background: white;
}

.faq__answer.active {
    padding: 1.5rem;
    max-height: 200px;
}

.faq__item.active .faq__icon {
    transform: rotate(45deg);
}

.faq__answer p {
    color: var(--text-secondary);
    line-height: 1.6;
}

.cta-bottom {
    padding: 6rem 0;
    background: var(--bg-gradient);
    text-align: center;
}

.cta-bottom__description {
    font-size: 18px;
    color: var(--text-secondary);
    margin-bottom: 2.5rem;
    line-height: 1.6;
}

.mobile-cta {
    position: fixed;
    bottom: 0;
    left: 0;
    right: 0;
    background: white;
    padding: 12px 16px;
    box-shadow: 0 -4px 12px rgba(0, 0, 0, 0.15);
    border-top: 1px solid var(--border-color);
    z-index: 1000;
    display: none;
}

.mobile-cta__content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    max-width: 480px;
    margin: 0 auto;
}

.mobile-cta__info {
    display: flex;
    flex-direction: column;
    gap: 2px;
}

.mobile-cta__price {
    font-size: 16px;
    font-weight: 700;
    color: var(--primary-color);
}

.mobile-cta__remaining {
    font-size: 12px;
    color: var(--error-color);
    font-weight: 600;
}

@media (max-width: 480px) {
    .mobile-cta {
        display: block;
    }
    
    body {
        padding-bottom: 80px;
    }
    
    .step {
        flex-direction: column;
        text-align: center;
        padding: 1.5rem;
    }
    
    .step__number {
        align-self: center;
    }
    
    .pain__grid {
        grid-template-columns: 1fr;
    }
    
    .pain__item {
        padding: 1.5rem;
    }
    
    .features__grid {
        grid-template-columns: 1fr;
    }
    
    .feature {
        padding: 1.5rem;
    }
    
    .pricing__special {
        font-size: 28px;
        flex-direction: column;
        gap: 0.5rem;
    }
}

.modal {
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.5);
    display: none;
    align-items: center;
    justify-content: center;
    z-index: 2000;
    padding: 20px;
}

.modal.active {
    display: flex;
}

.modal__content {
    background: white;
    padding: 2rem;
    border-radius: var(--radius-lg);
    max-width: 500px;
    width: 100%;
    text-align: center;
    box-shadow: var(--shadow-large);
}

.modal__content h3 {
    font-size: 24px;
    font-weight: 700;
    color: var(--text-primary);
    margin-bottom: 1rem;
}

.modal__content p {
    color: var(--text-secondary);
    margin-bottom: 2rem;
    line-height: 1.6;
}

.modal__actions {
    display: flex;
    flex-direction: column;
    gap: 1rem;
    margin-bottom: 2rem;
}

.btn:focus,
.faq__question:focus {
    outline: 2px solid var(--primary-color);
    outline-offset: 2px;
}
    </style>
</head>
<body>
    <!-- Hero Section -->
    <section id="hero" class="hero">
        <div class="container">
            <div class="hero__content">
                <div class="hero__badge">β版限定</div>
                <h1 class="hero__title">30日間AI伴走プログラム<br><span class="hero__subtitle">"やりたい"を"やった"に変える。</span></h1>
                <p class="hero__tagline">"やりたい"で終わる人生、もうやめよう。</p>
                <p class="hero__description">「やらなきゃ」と思ってもSNSで日が暮れる——AIが行動を"仕組み化"。<br>毎朝の目標宣言／夜の振り返り／未報告時はリマインド。意思に頼らず続くあなたを育てます。</p>
                <div class="hero__summary">
                    <div class="summary-item">
                        <span class="summary-icon">🤖</span>
                        <span>AIコーチがLINEで毎日伴走</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-icon">📢</span>
                        <span>未報告は自動プッシュ</span>
                    </div>
                    <div class="summary-item">
                        <span class="summary-icon">✨</span>
                        <span>30日後"続けられる人間"に</span>
                    </div>
                </div>
                <div class="hero__cta">
                    <button class="btn btn--primary btn--large" data-cta="primary" onclick="handleCTAClick('hero')">今すぐ無料で体験してみる</button>
                    <div class="beta-counter">
                        β版残り枠：<span data-var="beta-count" id="betaCount">17</span>名
                    </div>
                </div>
                <button class="btn btn--secondary" onclick="handleCTAClick('secondary')">当日の流れ（3分でわかる）</button>
            </div>
        </div>
    </section>

    <!-- Pain Section -->
    <section id="pain" class="pain">
        <div class="container">
            <h2 class="section__title">こんな「先延ばし地獄」から抜け出したくないですか？</h2>
            <div class="pain__grid">
                <div class="pain__item">
                    <div class="pain__icon">😫</div>
                    <h3 class="pain__title">毎日「明日こそは」と思う</h3>
                    <p class="pain__description">朝は意気込むのに、夜になると何もできていない自分にガッカリ</p>
                </div>
                <div class="pain__item">
                    <div class="pain__icon">📱</div>
                    <h3 class="pain__title">気づくとSNSで時間消費</h3>
                    <p class="pain__description">「ちょっとだけ」のつもりが2時間経過。生産的な時間がゼロ</p>
                </div>
                <div class="pain__item">
                    <div class="pain__icon">🔄</div>
                    <h3 class="pain__title">3日坊主の無限ループ</h3>
                    <p class="pain__description">新しいアプリや手帳を試すも、結局続かない。自己嫌悪の繰り返し</p>
                </div>
            </div>
            <div class="pain__cta">
                <p class="pain__message">意思の力だけでは限界があります。<br><strong>仕組みが必要</strong>なんです。</p>
            </div>
        </div>
    </section>

    <!-- Mechanism Section -->
    <section id="mechanism" class="mechanism">
        <div class="container">
            <h2 class="section__title">シンプル3ステップで習慣が身につく仕組み</h2>
            <div class="mechanism__steps">
                <div class="step">
                    <div class="step__number">1</div>
                    <div class="step__content">
                        <h3 class="step__title">朝の目標宣言</h3>
                        <p class="step__description">毎朝8時にLINEで今日やることを宣言。AIが最適な目標設定をサポート</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step__number">2</div>
                    <div class="step__content">
                        <h3 class="step__title">日中の行動追跡</h3>
                        <p class="step__description">進捗をLINEで簡単報告。AIが励ましとアドバイスを自動送信</p>
                    </div>
                </div>
                <div class="step">
                    <div class="step__number">3</div>
                    <div class="step__content">
                        <h3 class="step__title">夜の振り返り</h3>
                        <p class="step__description">21時に自動リマインド。未報告なら優しくプッシュ。明日への改善点も提案</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Features Section -->
    <section id="features" class="features">
        <div class="container">
            <h2 class="section__title">なぜ30日で変われるのか？</h2>
            <div class="features__grid">
                <div class="feature">
                    <div class="feature__icon">🎯</div>
                    <h3 class="feature__title">個別最適化AI</h3>
                    <p class="feature__description">あなたの性格・生活パターンを学習し、最適なタイミングでサポート</p>
                </div>
                <div class="feature">
                    <div class="feature__icon">⚡</div>
                    <h3 class="feature__title">自動リマインド機能</h3>
                    <p class="feature__description">忘れても大丈夫。AIが絶妙なタイミングで優しくプッシュ通知</p>
                </div>
                <div class="feature">
                    <div class="feature__icon">📊</div>
                    <h3 class="feature__title">習慣スコア可視化</h3>
                    <p class="feature__description">日々の成長が数値で見える。小さな進歩も見逃さない</p>
                </div>
                <div class="feature">
                    <div class="feature__icon">🔒</div>
                    <h3 class="feature__title">プライバシー完全保護</h3>
                    <p class="feature__description">個人データは暗号化。第三者への共有は一切なし</p>
                </div>
            </div>
        </div>
    </section>

    <!-- Offer Section -->
    <section id="offer" class="offer">
        <div class="container">
            <div class="offer__badge">β版特別価格</div>
            <h2 class="section__title">今だけ特別オファー</h2>
            <div class="offer__pricing">
                <div class="pricing">
                    <div class="pricing__original">
                        通常価格 <span data-var="original-price">¥1,480</span>/月
                    </div>
                    <div class="pricing__special">
                        β版価格 <span data-var="beta-price">¥980</span>/月
                        <span class="pricing__save">¥500お得</span>
                    </div>
                </div>
            </div>
            <div class="offer__benefits">
                <div class="benefit">
                    <span class="benefit__icon">✅</span>
                    <span>14日間全額返金保証</span>
                </div>
                <div class="benefit">
                    <span class="benefit__icon">✅</span>
                    <span>7日連続達成で次月もβ版価格</span>
                </div>
                <div class="benefit">
                    <span class="benefit__icon">✅</span>
                    <span>先着30名限定</span>
                </div>
            </div>
            <div class="offer__cta">
                <button class="btn btn--primary btn--large" data-cta="primary" onclick="handleCTAClick('offer')">今すぐ無料で体験してみる</button>
                <div class="beta-counter">
                    残り枠：<span data-var="beta-count">17</span>名
                </div>
                <p class="offer__note">※LINEで友だち追加するだけ。押し売りは一切いたしません</p>
            </div>
        </div>
    </section>

    <!-- FAQ Section -->
    <section id="faq" class="faq">
        <div class="container">
            <h2 class="section__title">よくある質問</h2>
            <div class="faq__list">
                <div class="faq__item">
                    <button class="faq__question" onclick="toggleFAQ(this)">
                        <span>解約はいつでもできますか？</span>
                        <span class="faq__icon">+</span>
                    </button>
                    <div class="faq__answer">
                        <p>はい、いつでも解約可能です。LINEで「解約」と送信いただくだけで、即座に処理されます。違約金等は一切ございません。</p>
                    </div>
                </div>
                <div class="faq__item">
                    <button class="faq__question" onclick="toggleFAQ(this)">
                        <span>返金保証の条件は？</span>
                        <span class="faq__icon">+</span>
                    </button>
                    <div class="faq__answer">
                        <p>開始から14日以内であれば、理由を問わず全額返金いたします。LINEで「返金希望」とお送りください。3営業日以内に処理いたします。</p>
                    </div>
                </div>
                <div class="faq__item">
                    <button class="faq__question" onclick="toggleFAQ(this)">
                        <span>個人情報は安全ですか？</span>
                        <span class="faq__icon">+</span>
                    </button>
                    <div class="faq__answer">
                        <p>はい、SSL暗号化通信とAWS秘匿化により完全保護。第三者への提供は一切行いません。プライバシーポリシーもご確認いただけます。</p>
                    </div>
                </div>
                <div class="faq__item">
                    <button class="faq__question" onclick="toggleFAQ(this)">
                        <span>始めるまでにどのくらい時間がかかりますか？</span>
                        <span class="faq__icon">+</span>
                    </button>
                    <div class="faq__answer">
                        <p>LINE友だち追加後、約3分の簡単設定で当日からスタート可能です。複雑な登録手続きは不要です。</p>
                    </div>
                </div>
                <div class="faq__item">
                    <button class="faq__question" onclick="toggleFAQ(this)">
                        <span>押し売りされませんか？</span>
                        <span class="faq__icon">+</span>
                    </button>
                    <div class="faq__answer">
                        <p>絶対にいたしません。営業メッセージやセールス電話は一切行わない方針です。純粋にあなたの習慣化をサポートするためだけのプログラムです。</p>
                    </div>
                </div>
            </div>
        </div>
    </section>

    <!-- Final CTA Section -->
    <section id="cta-bottom" class="cta-bottom">
        <div class="container">
            <h2 class="section__title">30日後、新しい自分に出会いませんか？</h2>
            <p class="cta-bottom__description">今日始めれば、来月の今頃には<br>「続けられる人間」になっています。</p>
            <button class="btn btn--primary btn--large" data-cta="primary" onclick="handleCTAClick('final')">今すぐ無料で体験してみる</button>
            <div class="beta-counter">
                残り枠：<span data-var="beta-count">17</span>名
            </div>
        </div>
    </section>

    <!-- Mobile Fixed CTA -->
    <div class="mobile-cta" id="mobileCTA">
        <div class="mobile-cta__content">
            <div class="mobile-cta__info">
                <span class="mobile-cta__price">β版 ¥980/月</span>
                <span class="mobile-cta__remaining">残り<span data-var="beta-count">17</span>名</span>
            </div>
            <button class="btn btn--primary" style="padding: 12px 24px; font-size: 16px; width: auto;" data-cta="primary" onclick="handleCTAClick('mobile')">無料で体験する</button>
        </div>
    </div>

    <!-- Success Modal -->
    <div id="successModal" class="modal">
        <div class="modal__content">
            <h3>ありがとうございます！</h3>
            <p>LINEに移動して友だち追加を完了してください。</p>
            <div class="modal__actions">
                <a href="/line" class="btn btn--primary">LINEで友だち追加</a>
                <button class="btn btn--secondary" onclick="closeModal()">後で追加する</button>
            </div>
        </div>
    </div>

    <script>
// Global Variables
let betaCount = 17;

// Analytics & Tracking
function trackEvent(eventName, section) {
    if (typeof gtag !== 'undefined') {
        gtag('event', eventName, {
            'section': section,
            'timestamp': new Date().toISOString()
        });
    }
    
    if (typeof fbq !== 'undefined') {
        fbq('track', 'CustomEvent', {
            event_name: eventName,
            section: section
        });
    }
    
    console.log(`Event tracked: ${eventName} in ${section}`);
}

// UTM Parameter Handling
function captureUTMParameters() {
    const urlParams = new URLSearchParams(window.location.search);
    const utmParams = {};
    
    ['utm_source', 'utm_medium', 'utm_campaign', 'utm_term', 'utm_content'].forEach(param => {
        if (urlParams.has(param)) {
            utmParams[param] = urlParams.get(param);
        }
    });
    
    if (Object.keys(utmParams).length > 0) {
        localStorage.setItem('utm_params', JSON.stringify(utmParams));
    }
}

// Beta Counter Animation
function updateBetaCount() {
    const now = new Date();
    const startDate = new Date('2024-10-01');
    const daysPassed = Math.floor((now - startDate) / (1000 * 60 * 60 * 24));
    
    let currentCount = Math.max(1, 30 - Math.floor(daysPassed * 0.5) - Math.floor(Math.random() * 3));
    window.BETA_LEFT = currentCount;
    
    const elements = document.querySelectorAll('[data-var="beta-count"]');
    elements.forEach(el => {
        el.textContent = currentCount;
    });
    
    return currentCount;
}

// FAQ Toggle Functionality
function toggleFAQ(button) {
    const item = button.closest('.faq__item');
    const answer = item.querySelector('.faq__answer');
    const icon = button.querySelector('.faq__icon');
    const isActive = item.classList.contains('active');
    
    document.querySelectorAll('.faq__item.active').forEach(activeItem => {
        if (activeItem !== item) {
            activeItem.classList.remove('active');
            activeItem.querySelector('.faq__answer').classList.remove('active');
            activeItem.querySelector('.faq__icon').textContent = '+';
        }
    });
    
    if (isActive) {
        item.classList.remove('active');
        answer.classList.remove('active');
        icon.textContent = '+';
    } else {
        item.classList.add('active');
        answer.classList.add('active');
        icon.textContent = '×';
        
        const questionText = button.querySelector('span').textContent;
        trackEvent('faq_opened', questionText.substring(0, 20));
    }
}

// CTA Click Handler
function handleCTAClick(section) {
    trackEvent('cta_click', section);
    
    const buttons = document.querySelectorAll(`[onclick*="${section}"]`);
    buttons.forEach(button => {
        button.disabled = true;
        button.style.opacity = '0.7';
        button.textContent = '処理中...';
    });
    
    setTimeout(() => {
        showSuccessModal();
        buttons.forEach(button => {
            button.disabled = false;
            button.style.opacity = '1';
            button.textContent = button.dataset.originalText || '今すぐ無料で体験してみる';
        });
    }, 1500);
}

// Success Modal
function showSuccessModal() {
    const modal = document.getElementById('successModal');
    if (modal) {
        modal.classList.add('active');
        trackEvent('modal_shown', 'success');
        
        setTimeout(() => {
            if (modal.classList.contains('active')) {
                const utmParams = JSON.parse(localStorage.getItem('utm_params') || '{}');
                const utmString = Object.entries(utmParams)
                    .map(([key, value]) => `${key}=${encodeURIComponent(value)}`)
                    .join('&');
                
                const lineUrl = `/line${utmString ? '?' + utmString : ''}`;
                // 新しいタブで開きたいなら
                window.open(lineUrl, '_blank');
                // 同タブでよければ
                // window.location.href = lineUrl;
                trackEvent('auto_redirect', 'line');
            }
        }, 8000);
    }
}

function closeModal() {
    const modal = document.getElementById('successModal');
    if (modal) {
        modal.classList.remove('active');
        trackEvent('modal_closed', 'manual');
    }
}

// Mobile CTA Bar Visibility
function setupMobileCTA() {
    const mobileCTA = document.getElementById('mobileCTA');
    const heroSection = document.getElementById('hero');
    
    if (!mobileCTA || !heroSection) return;
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (window.innerWidth <= 480) {
                if (entry.isIntersecting) {
                    mobileCTA.style.display = 'none';
                } else {
                    mobileCTA.style.display = 'block';
                }
            }
        });
    }, {
        threshold: 0.1
    });
    
    observer.observe(heroSection);
}

// Scroll Tracking
function setupScrollTracking() {
    const sections = ['pain', 'mechanism', 'features', 'offer', 'faq'];
    const trackedSections = new Set();
    
    const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
            if (entry.isIntersecting && entry.intersectionRatio > 0.5) {
                const sectionId = entry.target.id;
                if (!trackedSections.has(sectionId)) {
                    trackedSections.add(sectionId);
                    trackEvent(`reach_${sectionId}`, sectionId);
                    
                    if (sectionId === 'offer') {
                        trackEvent('reach_offer', 'pricing');
                    }
                }
            }
        });
    }, {
        threshold: 0.5
    });
    
    sections.forEach(sectionId => {
        const section = document.getElementById(sectionId);
        if (section) {
            observer.observe(section);
        }
    });
}

// Initialize everything when DOM is ready
document.addEventListener('DOMContentLoaded', function() {
    console.log('AI伴走プログラム LP - Initializing...');
    
    captureUTMParameters();
    updateBetaCount();
    setupScrollTracking();
    setupMobileCTA();
    
    setInterval(updateBetaCount, 5 * 60 * 1000);
    trackEvent('page_view', 'landing');
    
    console.log('AI伴走プログラム LP - Ready!');
});

// Store original button text
document.addEventListener('DOMContentLoaded', function() {
    document.querySelectorAll('button[data-cta]').forEach(button => {
        button.dataset.originalText = button.textContent.trim();
    });
});
    </script>
</body>
</html>
